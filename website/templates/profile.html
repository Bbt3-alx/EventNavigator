{% extends "base.html" %}
{% block title %}SignUp{% endblock %}
{% block content %}

    <div class="container d-flex justify-content-center">
        <form method="POST">
            <h3 align="center">Update the profile</h3>
            <div class="form-group">
                <label for="user_name">User Name</label>
                <input type="text" class="form-control" id="user_name" name="user_name" value="{{ user.user_name }}" placeholder="{{ user.user_name }}"/>
            </div>
            <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" placeholder="Email"/>
            </div>
            <div class="form-group">
                <label id="password" for="password1">Old password</label>
                <input type="password" class="form-control" id="old_password" name="old_password" placeholder="Enter old password"/>
            </div>
            <div class="form-group">
                <label id="new_password" for="password2">New password</label>
                <input type="password" class="form-control" id="new_password" name="new_password" placeholder="enter the new password"/>
            </div>
            <div class="form-group">
                <label id="confirm_password" for="password2">Password (Confirm)</label>
                <input type="password" class="form-control" id="confirm_password" name="confirm_password" placeholder="Confirm password"/>
                </br>
                <button type="submit" class="btn btn-primary">Update</button>
            </div>
        </form>
    </div>

    <!--PROFILE SETINGS-->
    <div class="row row-cols-1 row-cols-md-3 g-4 container col-card">
        {% if my_events %}
            {% for event in my_events %}
                <div class="col">
                <div class="card text-center h-100">
                    <a href="{{ url_for('views.event', id=event.id) }}">
                    <img src="{{ event.event_image if event.event_image.startswith('http') else url_for('static', filename='uploads/' + event.event_image) or url_for('static', filename='images/seminaire1.jpg') }}" class="card-img-top" alt="event_image">
                    </a>
                    <div class="card-body">
                    <h5 class="card-title">{{ event.title }}</h5>
                    <p class="card-text">{{ event.description[:50] }}...</p>
                    <p class="card-text"><i class="fas fa-calendar-alt"></i> {{ event.date }}</p>
                    <p class="card-text"><i class="fas fa-map-marker-alt"></i> {{ event.location }}</p>
                    <div class="card-body">
                        <a href="{{ url_for('views.update_event', id=event.id) }}" class="btn btn-primary">Edit</a>
                        <a href="{{ url_for('views.delete_event', id=event.id) }}" id="delete_event" class="btn btn-danger">Delete</a>
                      </div>
                    </div>
                    <div class="card-footer">
                    <small class="text-muted">Last updated {{ event.updated_at }}</small>
                    </div>
                </div>
                </div>
            {% endfor %}
        {% else %}
          <h3>You haven't posted any event yet !.</h3>
        {% endif %}
      </div>


{% endblock %}