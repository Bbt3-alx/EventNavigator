{% extends "base.html" %}
{% block title %}Post Events{% endblock %}
{% block content %}
<form method="POST" enctype="multipart/form-data" class="container">
    <h3 align="center">Edit Event</h3>
    {% if events %}
    {% for event in events %}
    <div class="form-group">
        <label for="event_title">Title</label>
        <input type="text" class="form-control" id="event_title" name="event_title" placeholder="{{event.title}}" required/>
    </div>

    <div class="form-group">
        <label for="event_date">Date</label>
        <input type="date" class="form-control" id="event_date" name="event_date" placeholder="{{event.date}}" required/>
    </div>

    <div class="form-group">
        <label for="description">Description</label>
        <textarea name="description" id="description" class="form-control" placeholder="{{event.description}}" required></textarea>
    </div>

    <div class="form-group">
        <label for="image">Image Source:</label><br>
    
        <input type="radio" id="uploadImage" name="imageSource" value="upload" checked>
        <label for="uploadImage">Upload Image</label><br>
    
        <input type="radio" id="imageLink" name="imageSource" value="link">
        <label for="imageLink">Image Link</label><br>
    
        <div id="uploadSection">
            <input type="file" class="form-control" id="file" name="file">
        </div>
    
        <div id="linkSection" style="display: none;">
            <input type="text" class="form-control" id="imageLinkInput" name="imageLinkInput" placeholder="{{event.event_image}}">
        </div>
    </div>
</br  >
    <button type="submit" class="btn btn-primary">Post</button>
</form>

<script>
const uploadRadio = document.getElementById('uploadImage');
const linkRadio = document.getElementById('imageLink');
const uploadSection = document.getElementById('uploadSection');
const linkSection = document.getElementById('linkSection');

uploadRadio.addEventListener('change', () => {
  uploadSection.style.display = 'block';
  linkSection.style.display = 'none';
});

linkRadio.addEventListener('change', () => {
  uploadSection.style.display = 'none';
  linkSection.style.display = 'block';
});
</script>
{% endblock %}